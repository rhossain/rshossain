<section class="page page--current" id="about">
    <div class="page-header">

        <!--Content before waves-->
        <div class="page-header-inner">
            <h1 class="page-title">About Me</h1>
        </div>

        <!--Waves Container-->
        <div>
            @if(themeService.darkModeSignal() === "dark") {
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave"
                        d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(10, 9, 8,0.7" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(10, 9, 8,0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(10, 9, 8,0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#0A0908" />
                </g>
            </svg>
            } @else {
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave"
                        d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
                </g>
            </svg>
            }

        </div>
        <!--Waves end-->

    </div>

    <div class="page-content">
        <div class="mx-auto lg:max-w-[1400px]">
            <!-- Personal Info -->
            @for (item of basic; track $index) {
            <div class="flex flex-col md:flex-row md:gap-[24px] mb-[70px] pt-[16px]">
                <div
                    class="basis-full relative flex items-center justify-center lg:basis-7/12 xl:basis-1/2 mb-[50px] lg:mb-0">
                    <img [ngSrc]="getImageUrl(item.featuredAbout)" [alt]="item.nickName" width="2000" height="1468" priority
                        (load)="onImageLoad()" class="max-w-full mask1 load-img"
                        [ngClass]="{ 'loaded': imageLoaded }" />
                    <div *ngIf="!imageLoaded" class="absolute flex items-center justify-center">
                        <div class="loader3"></div>
                    </div>
                    <!-- <img class="max-w-full mask1" src="../../../assets/images/sazzad-hossain-01.jpg" alt="Sazzad Hossain Robin" /> -->
                </div>

                <div class="basis-full lg:basis-5/12 xl:basis-1/2">
                    <div class="section-title">
                        <h3>Personal Info</h3>
                    </div>
                    <div class="flex pb-[20px]">
                        <div class="basis-1/2 [&>div]:pb-[20px] [&>div:last-child]:pb-0">
                            <div>
                                <span class="opacity-80">First Name: </span>
                                <span class="block font-semibold">{{item.fName}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Nationality: </span>
                                <span class="block font-semibold">{{item.nationality}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Phone: </span>
                                <span class="block font-semibold">{{item.phone}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Address: </span>
                                <span class="block font-semibold">{{item.shortAddress}}</span>
                            </div>
                        </div>
                        <div class="basis-1/2 [&>div]:pb-[20px] [&>div:last-child]:pb-0">
                            <div>
                                <span class="opacity-80">Last Name: </span>
                                <span class="block font-semibold">{{item.lName}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Birthday: </span>
                                <span class="block font-semibold">{{item.birthday | date:"MMMM dd, yyyy"}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Email: </span>
                                <span class="block font-semibold">{{item.email}}</span>
                            </div>
                            <div>
                                <span class="opacity-80">Langages: </span>
                                <span class="block font-semibold">Bangla, English</span>
                            </div>
                        </div>
                    </div>
                    <div class="socials !relative !bottom-0  flex flex-col">
                        <p class="mb-[8px]">Social connections:</p>
                        <app-socials></app-socials>
                    </div>
                    <a
                        target="_blank" 
                        href="../../../assets/MD_SAZZAD_HOSSAIN_Resume_2025.pdf"
                        class="button group cursor-pointer overflow-hidden inline-block leading-[1.4] border border-solid border-accent rounded-[30px] text-ellipsis text-center align-middle select-none transition-all duration-[.25s] ease-in-out uppercase no-underline relative z-10 mt-[40px] py-[16px] pr-[70px] pl-[35px] text-[15px] font-semibold text-white bg-transparent outline-0 before:absolute before:-z-10 before:left-0 before:right-0 before:top-0 before:bottom-0 before:translate-x-full hover:before:translate-x-0 before:transition before:duration-300 before:ease-out">
                        <span class="relative z-20 text-dark-1 dark:text-white">download CV</span>
                        <span
                            class="absolute -right-px bottom-0 w-[55px] h-[55px] flex items-center justify-center rounded-full text-dark-1 text-[19px] bg-accent dark:text-white">
                            <fa-icon [icon]="['fas', 'download']"></fa-icon>
                        </span>
                    </a>
                </div>
            </div>
            }

            <div class="flex flex-col lg:flex-row lg:gap-[50px]">
                <div class="w-full lg:w-1/2 xl:w-2/3 mb-[50px] lg:mb-0">
                    <div class="section-title">
                        <h3>Experience</h3>
                    </div>

                    <ul>
                        @for (item of experience | orderBy: [companyPhone]; track $index) {
                        <li
                            class="relative mb-[50px] pr-[20px] pl-[60px] after:absolute after:top-0 after:left-[20px] after:w-[1px] after:h-full after:bg-light-3 dark:after:bg-dark-8">
                            <div
                                class="absolute left-0 z-10 w-[40px] h-[40px] bg-white text-primary-1 leading-[40px] text-center border border-solid border-light-3 rounded-full dark:bg-dark-2 dark:border-dark-8">
                                <fa-icon [icon]="['fas', 'briefcase']"></fa-icon>
                            </div>
                            <span
                                class="text-[12px] py-1 px-[10px] inline-block mb-[10px] rounded-[20px] font-semibold bg-light-3 opacity-80 uppercase dark:bg-dark-8">
                                {{ item.startDate | date:"YYYY" }} 
                                - 
                                @if ( item.endDateOrNot === 'current' ) {
                                    Present
                                } @else {
                                    {{ item.endDate | date:"YYYY" }}
                                }

                                <!-- {{ item.endDateOrNot }} -->
                            </span>
                            <h5 class="uppercase text-[16px] mt-[7px] mb-[2px]">{{ item.designation }}</h5>
                            <h4 class="mb-[12px] opacity-80 font-semibold text-[16px]">{{ item.company }}</h4>
                            
                            <div #textbox [class.show-less]="expand === false">
                                <div
                                *ngIf="item.responsibilities"
                                [innerHTML]="item.responsibilities | blockToHtml"
                                class="font-Open-sans mt-[15px] mb-[28px] leading-[35px] down-lg:mt-2.5 down-lg:mb-23 down-lg:text-fs-15 down-lg:leading-lh-30 list-disc-child"
                                ></div>
                            </div>
                              <a
                                (click)="toggle()"
                                *ngIf="
                                  textbox.offsetHeight < textbox.scrollHeight ||
                                  (expand === true && textbox.offsetHeight > 60)
                                "
                                class="inline-block mt-[8px] text-[#FF7A59] cursor-pointer hover:underline"
                                >{{ anchor }}</a>
                        </li>
                        }
                    </ul>
                </div>

                <div class="w-full lg:w-1/2 xl:w-1/3">
                    <div>
                        <div class="section-title">
                            <h3>Skills</h3>
                        </div>
    
                        @for (item of technologies; track $index) {
                            @if (item.level > '80' && item.visibility === 'Show' && (item.name != 'Bangla' && item.name != 'English')) {
                            <div class="progress-bar-wrapper max-w-[500px]">
                                <h6>{{ item.name }}</h6>
                                <span>{{ item.level }}%</span>
                                <div class="progress-bar">
                                    <div class="progress-bar-inner" [ngStyle]="{'width': item.level+'%'}"></div>
                                </div>
                            </div>
                            }
                        }
    
                        @for (item of technologies; track $index) {
                            @if (item.name === 'Bangla' || item.name === 'English') {
                            <div class="inline-flex flex-col items-center gap-x-[8px] mt-[30px] mr-[24px] last:mr-0">
    
                                @if(themeService.darkModeSignal() === "dark") {
                                <p-knob class="knob-default" rangeColor="#343131" valueColor="#51BFA5" textColor="#ffffff"
                                    [(ngModel)]="item.level" valueTemplate="{value}%" [readonly]="true" />
                                } @else {
                                <p-knob class="knob-default" rangeColor="#DDDDDD" valueColor="#51BFA5" textColor="#02040F"
                                    [(ngModel)]="item.level" valueTemplate="{value}%" [readonly]="true" />
                                }
    
                                <span class="block">{{ item.name }}</span>
                            </div>
                            }
                        }
                    </div>
                    <div class="pt-[50px]">
                        <div class="section-title">
                            <h3>Knowledge</h3>
                        </div>
    
                        <div class="flex flex-wrap">
                            @for (item of technologies; track $index) {
                                @if (item.visibility === 'Show' && (item.name != 'Bangla' && item.name != 'English')) {
                                <p-chip class="chip-default">
                                    @if (item.icon) {
                                        <img class="p-chip-image" [src]="getImageUrl(item.icon)" [alt]="item.name" />
                                    } @else {
                                        <span class="p-chip-title">
                                            {{ item.name.slice(0,1) }}
                                        </span>
                                    }
                                    
                                    <div class="p-chip-label">
                                        {{item.name}}
                                    </div>
                                </p-chip>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col lg:flex-row lg:gap-[50px] mt-[50px] lg:mt-0">
                <div class="w-full">
                    <div class="section-title">
                        <h3>Education</h3>
                    </div>

                    <ul>
                        @for (item of educationItems; track $index) {
                        <li
                            class="relative mb-[50px] pr-[20px] pl-[60px] after:absolute after:top-0 after:left-[20px] after:w-[1px] after:h-full after:bg-light-3 dark:after:bg-dark-8">
                            <div
                                class="absolute left-0 z-10 w-[40px] h-[40px] bg-white text-primary-1 leading-[40px] text-center border border-solid border-light-3 rounded-full dark:bg-dark-2 dark:border-dark-8">
                                <fa-icon [icon]="['fas', 'graduation-cap']"></fa-icon>
                            </div>
                            <span
                                class="text-[12px] py-1 px-[10px] inline-block mb-[10px] rounded-[20px] font-semibold bg-light-3 opacity-80 uppercase dark:bg-dark-8">
                                {{ item.year }}
                            </span>
                            <h5 class="uppercase text-[16px] mt-[7px] mb-[2px]">{{ item.name }}</h5>
                            <h4 class="mb-[12px] opacity-80 font-semibold text-[16px]">{{ item.institute }}, {{
                                item.address }}</h4>
                        </li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>